---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

import "../styles/global.css";

const {
  lang = "pt",
  title = "Blog",
  description = "Descrição do site",
} = Astro.props;
---

<!doctype html>
<html lang={lang}>
  <head>
    <BaseHead title={title} description={description} />

    <!-- Tema escuro na pintura inicial (sem tocar no body ainda) -->
    <script>
      try {
        if (localStorage.getItem("theme") === "dark") {
          document.documentElement.classList.add("dark-theme");
        }
      } catch (_) {}
    </script>
  </head>
  <body class="layout-root">
    <Header />

    <main
      class="layout-main"
      style="max-width:960px;margin:2rem auto;padding:0 1rem;"
    >
      <slot />
    </main>

    <Footer />

    <script src="/scripts/theme.js" defer></script>
    <script src="/scripts/lang.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (document.documentElement.classList.contains("dark-theme")) {
          document.body.classList.add("dark-theme");
        }
      });
    </script>
  </body>
</html>
